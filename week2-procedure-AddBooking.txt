DELIMITER $$
CREATE PROCEDURE `AddBooking`(IN p_booking_id INT, IN p_customer_id INT, IN p_table_no INT, IN p_date DATE)
BEGIN
	DECLARE EXIT HANDLER FOR sqlexception, sqlwarning
    BEGIN
		ROLLBACK;
    END;
    
    START TRANSACTION;
	INSERT INTO bookings(BookingID, CustomerID, TableNo, Date) 
	VALUES (p_booking_id, p_customer_id, p_table_no, p_date);
    SELECT "New booking added";
END$$
DELIMITER ;